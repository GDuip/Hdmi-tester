<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advanced System & Display Inspector</title>
    <link rel="stylesheet" href="style.css">
    <!-- Favicon (example, replace with your own) -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸ’»</text></svg>">
</head>
<body>
    <div class="app-container">
        <header class="app-header">
            <div class="logo-title">
                <span class="logo-icon">ðŸ’»</span>
                <h1>Advanced System & Display Inspector</h1>
            </div>
            <div class="controls">
                <button id="copy-report-btn" class="icon-btn" title="Copy Report"><svg viewBox="0 0 24 24"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg></button>
                <button id="theme-toggle-btn" class="icon-btn" title="Toggle Theme"><svg id="theme-icon-sun" viewBox="0 0 24 24"><path d="M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zM20 13h-2.07c-.06-.67-.18-1.32-.36-1.93l1.46-1.46c.39-.39.39-1.02 0-1.41l-1.43-1.43c-.39-.39-1.02-.39-1.41 0l-1.46 1.46C14.32 8.25 13.67 8.13 13 8.07V6c0-.55-.45-1-1-1s-1 .45-1 1v2.07c-.67.06-1.32.18-1.93.36l-1.46-1.46c-.39-.39-1.02-.39-1.41 0l-1.43 1.43c-.39.39-.39 1.02 0 1.41l1.46 1.46c-.18.61-.3.                                                                                                                                                       1.26-.36 1.93H4c-.55 0-1 .45-1 1s.45 1 1 1h2.07c.06.67.18 1.32.36 1.93l-1.46 1.46c-.39.39-.39 1.02 0 1.41l1.43 1.43c.39.39 1.02.39 1.41 0l1.46-1.46c.61.18 1.26.3 1.93.36V20c0 .55.45 1 1 1s1-.45 1-1v-2.07c.67-.06 1.32-.18 1.93-.36l1.46 1.46c.39.39 1.02.39 1.41 0l1.43-1.43c.39-.39.39-1.02 0-1.41l-1.46-1.46c.18-.61.3-1.26.36-1.93H20c.55 0 1-.45 1-1s-.45-1-1-1z"/></svg><svg id="theme-icon-moon" style="display:none;" viewBox="0 0 24 24"><path d="M12.3 4.83A9.5 9.5 0 0 0 10.05 19.59a9.51 9.51 0 0 0 10.22-7.3c.09-.58-.37-1.1-.96-1.1H19c-4.48 0-8.22-3.53-8.7-7.96-.05-.43-.44-.72-.9-.7zm3.32 12.04a7.5 7.5 0 0 1-8.23-8.23c.1-.69.63-1.14 1.32-1.14.46 0 .88.25 1.1.65.83 1.5 2.35 2.61 4.12 2.93.5.09.88.52.88 1.03v.38c0 .82.33 1.59.91 2.17.58.58 1.35.91 2.17.91h.38c.51 0 .94.38 1.03.88.32 1.77 1.43 3.29 2.93 4.12.4.22.65.64.65 1.1 0 .69-.56 1.22-1.25 1.13z"/></svg></button>
            </div>
        </header>

        <main class="app-main">
            <div class="disclaimer-box">
                <p><strong>Important:</strong> This tool inspects capabilities as reported by your browser and OS. <strong>It cannot directly test hardware like HDMI cable versions/speeds.</strong> Some information, especially OS and console detection, relies on hints and may not be 100% accurate. For precise hardware diagnostics, dedicated tools are necessary.</p>
            </div>

            <nav class="tab-navigation">
                <button class="tab-link active" data-tab="display">Display</button>
                <button class="tab-link" data-tab="system">System & OS</button>
                <button class="tab-link" data-tab="hardware">Hardware (Browser View)</button>
                <button class="tab-link" data-tab="media">Media Capabilities</button>
                <button class="tab-link" data-tab="connectivity">Connectivity</button>
                <button class="tab-link" data-tab="browser">Browser</button>
                <button class="tab-link" data-tab="hdmi">HDMI Info</button>
            </nav>

            <div id="tab-content-container">
                <!-- Display Section -->
                <section id="display-section" class="tab-panel active">
                    <h2>Primary Display</h2>
                    <div class="info-card-grid">
                        <div class="info-card"><div class="card-label">Current Resolution</div><div id="current-resolution" class="card-value">-</div></div>
                        <div class="info-card"><div class="card-label">Available Resolution</div><div id="available-resolution" class="card-value">-</div></div>
                        <div class="info-card"><div class="card-label">Color Depth</div><div id="color-depth" class="card-value">-</div></div>
                        <div class="info-card"><div class="card-label">Pixel Ratio</div><div id="pixel-ratio" class="card-value">-</div></div>
                        <div class="info-card"><div class="card-label">Orientation</div><div id="orientation" class="card-value">-</div></div>
                        <div class="info-card"><div class="card-label">Touch Support</div><div id="touch-support" class="card-value">-</div></div>
                    </div>

                    <h2>Refresh Rate & HDR</h2>
                    <div class="info-card-grid">
                        <div class="info-card">
                            <div class="card-label">Estimated Refresh Rate</div>
                            <div id="estimated-fps" class="card-value">- Hz</div>
                            <canvas id="fps-visualizer" width="200" height="50"></canvas>
                            <button id="start-refresh-rate-test" class="action-button">Start Test</button>
                        </div>
                        <div class="info-card">
                            <div class="card-label">HDR Support (CSS Query)</div>
                            <div id="hdr-status" class="card-value">-</div>
                        </div>
                        <div class="info-card">
                            <div class="card-label">Color Gamut (CSS Query)</div>
                            <div id="color-gamut-status" class="card-value">-</div>
                        </div>
                    </div>

                    <h2>Multi-Screen Details <button id="load-multi-screen" class="action-button-small">Load (needs permission)</button></h2>
                    <div id="multi-screen-details" class="info-subgrid">
                        <!-- JS will populate this -->
                    </div>
                </section>

                <!-- System & OS Section -->
                <section id="system-section" class="tab-panel">
                     <h2>Operating System</h2>
                     <div class="info-card-grid">
                        <div class="info-card"><div class="card-label">Platform</div><div id="os-platform" class="card-value">-</div></div>
                        <div class="info-card"><div class="card-label">OS UserAgentData</div><div id="os-uad-platform" class="card-value">-</div></div>
                        <div class="info-card"><div class="card-label">OS Version (UAD)</div><div id="os-uad-version" class="card-value">-</div></div>
                        <div class="info-card"><div class="card-label">Architecture (UAD)</div><div id="os-uad-arch" class="card-value">-</div></div>
                        <div class="info-card"><div class="card-label">Full User Agent</div><div id="user-agent-full" class="card-value code-like">-</div></div>
                        <div class="info-card">
                            <div class="card-label">Game Console Hint (UA Parsed)</div>
                            <div id="game-console-hint" class="card-value warning-value">-</div>
                            <small>Highly unreliable. Based on User Agent string.</small>
                        </div>
                     </div>
                </section>

                <!-- Hardware (Browser View) Section -->
                <section id="hardware-section" class="tab-panel">
                    <h2>Hardware (As Seen by Browser)</h2>
                    <div class="info-card-grid">
                        <div class="info-card"><div class="card-label">CPU Logical Cores</div><div id="cpu-cores" class="card-value">-</div></div>
                        <div class="info-card"><div class="card-label">Device Memory (Approx.)</div><div id="device-memory" class="card-value">-</div></div>
                        <div class="info-card"><div class="card-label">GPU (WebGL Renderer)</div><div id="gpu-renderer" class="card-value wide">-</div></div>
                        <div class="info-card"><div class="card-label">WebGL Version</div><div id="webgl-version" class="card-value">-</div></div>
                        <div class="info-card"><div class="card-label">WebGL ANGLE Renderer</div><div id="webgl-angle" class="card-value wide">-</div></div>
                    </div>
                    <h2>HDCP Status (for Browser EME Content)</h2>
                     <div class="info-card-grid">
                        <div class="info-card">
                            <div class="card-label">EME HDCP Check (e.g., for Widevine)</div>
                            <div id="eme-hdcp-status" class="card-value">-</div>
                            <small>Indicates if browser *could* play HDCP-protected web content. NOT the HDMI link's hardware HDCP itself.</small>
                        </div>
                     </div>
                </section>

                <!-- Media Capabilities Section -->
                <section id="media-section" class="tab-panel">
                    <h2>Audio Devices <button id="load-audio-devices" class="action-button-small">List Devices (needs permission)</button></h2>
                    <div id="audio-devices-list" class="info-subgrid"></div>

                    <h2>Video Decoding Support <button id="check-video-codecs" class="action-button-small">Check Common Codecs</button></h2>
                    <div id="video-codecs-support" class="info-subgrid"></div>

                    <h2>Audio Decoding Support <button id="check-audio-codecs" class="action-button-small">Check Common Codecs</button></h2>
                    <div id="audio-codecs-support" class="info-subgrid"></div>

                    <h2>DRM Support (Encrypted Media Extensions) <button id="check-drm" class="action-button-small">Check Common Systems</button></h2>
                    <div id="drm-support-list" class="info-subgrid"></div>
                </section>

                <!-- Connectivity Section -->
                <section id="connectivity-section" class="tab-panel">
                     <h2>Network Status</h2>
                    <div class="info-card-grid">
                        <div class="info-card"><div class="card-label">Online Status</div><div id="online-status" class="card-value">-</div></div>
                        <div class="info-card"><div class="card-label">Effective Connection Type</div><div id="connection-type" class="card-value">-</div></div>
                        <div class="info-card"><div class="card-label">Downlink (Estimate Mbps)</div><div id="connection-downlink" class="card-value">-</div></div>
                        <div class="info-card"><div class="card-label">RTT (Estimate ms)</div><div id="connection-rtt" class="card-value">-</div></div>
                    </div>
                    <h2>Basic Download Speed Test</h2>
                    <div class="info-card">
                        <div class="card-label">Download Speed</div>
                        <div id="speed-test-result" class="card-value">- Mbps</div>
                        <div id="speed-test-progress" class="progress-bar-container" style="display:none;"><div class="progress-bar"></div></div>
                        <button id="start-speed-test-btn" class="action-button">Start Test (5MB)</button>
                        <small>Simple client-side test. Not a substitute for dedicated speed testing tools. Measures speed to this page's hosting.</small>
                    </div>
                </section>

                <!-- Browser Section -->
                <section id="browser-section" class="tab-panel">
                    <h2>Browser Details</h2>
                    <div class="info-card-grid">
                        <div class="info-card"><div class="card-label">Browser Name & Version (UAD)</div><div id="browser-name-version-uad" class="card-value">-</div></div>
                        <div class="info-card"><div class="card-label">Rendering Engine (UAD)</div><div id="browser-engine-uad" class="card-value">-</div></div>
                        <div class="info-card"><div class="card-label">Mobile (UAD)</div><div id="browser-mobile-uad" class="card-value">-</div></div>
                        <div class="info-card"><div class="card-label">Preferred Language(s)</div><div id="browser-languages" class="card-value">-</div></div>
                        <div class="info-card"><div class="card-label">Cookies Enabled?</div><div id="cookies-enabled" class="card-value">-</div></div>
                        <div class="info-card"><div class="card-label">Java Enabled? (Legacy)</div><div id="java-enabled" class="card-value">-</div></div>
                        <div class="info-card"><div class="card-label">WebAssembly Support</div><div id="wasm-support" class="card-value">-</div></div>
                        <div class="info-card"><div class="card-label">Service Worker Support</div><div id="serviceworker-support" class="card-value">-</div></div>
                        <div class="info-card"><div class="card-label">Geolocation API</div><div id="geolocation-api" class="card-value">-</div></div>
                   </div>
                   <h2>Storage</h2>
                    <div class="info-card-grid">
                        <div class="info-card"><div class="card-label">Storage Quota (Approx.)</div><div id="storage-quota" class="card-value">-</div></div>
                        <div class="info-card"><div class="card-label">Storage Usage (Approx.)</div><div id="storage-usage" class="card-value">-</div></div>
                    </div>
                </section>

                <!-- HDMI Info Section -->
                <section id="hdmi-section" class="tab-panel">
                    <h2>HDMI Specifics</h2>
                    <div class="info-card warning-card">
                        <div class="card-label">HDMI Version (e.g., 1.4, 2.0, 2.1)</div>
                        <div class="card-value">NOT DETECTABLE VIA BROWSER</div>
                        <p>Web browsers do not have access to the low-level hardware information required to determine the HDMI version negotiated between your display and source device. This is managed by your operating system's graphics drivers and the physical hardware.</p>
                    </div>
                    <div class="info-card warning-card">
                        <div class="card-label">HDMI Cable Speed / Bandwidth</div>
                        <div class="card-value">NOT DETECTABLE VIA BROWSER</div>
                        <p>The physical properties of an HDMI cable, such as its maximum bandwidth (e.g., 18 Gbps, 48 Gbps), cannot be tested or determined by website code. Cable quality impacts the resolutions and refresh rates your setup can achieve, but the browser cannot inspect the cable itself.</p>
                     </div>
                </section>
            </div>
        </main>

        <footer class="app-footer">
            <p>Advanced System & Display Inspector &copy; <span id="current-year"></span>. All information is for indicative purposes only.</p>
        </footer>
    </div>
    <script src="script.js"></script>
</body>
</html>
